---
sidebar_position: 2
description: ğŸ“Œ Grafana ëŒ€ì‹œë³´ë“œë¥¼ í†µí•´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°ì´í„°ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ëŒ€ì‹œë³´ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
---

# 2) Dashboard
import CodeDescription from '@site/src/components/CodeDescription';
import PreviewDescription from '@site/src/components/PreviewDescription';
import BrowserWindow from '@site/src/components/BrowserWindow';
import { Chapter, Part } from '@site/src/components/Highlight';

<PreviewDescription>

## Chapter Preview
---
### ëª©í‘œ

1. Grafana ëŒ€ì‹œë³´ë“œë¥¼ í†µí•´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°ì´í„°ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ëŒ€ì‹œë³´ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
2. Grafana ì— ì›ë³¸ ë°ì´í„°ì™€ ì˜ˆì¸¡ê°’ì„ ì‹œê°í™”í•˜ëŠ” ë°©ë²•ì„ ì´í•´í•©ë‹ˆë‹¤.

### ìŠ¤í™ ëª…ì„¸ì„œ

1. Docker Compose ë¥¼ ì´ìš©í•˜ì—¬ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œì¸ Grafana ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

    - <var>GF_SECURITY_ADMIN_USER</var> : <code>dashboarduser</code>
    - <var>GF_SECURITY_ADMIN_PASSWORD</var> : <code>dashboardpassword</code>
    - <var>Port forwarding</var> : <code>3000:3000</code>
2. <Part>01. Database</Part> íŒŒíŠ¸ì—ì„œ ë„ì› ë˜ DB ë¥¼ í™•ì¸í•˜ê³  Grafana ì—ì„œ ì‹œê°í™”í•©ë‹ˆë‹¤.

    - <var>host</var> : <code>postgres-server</code>
    - <var>port</var> : <code>5432</code>
    - <var>user</var> : <code>myuser</code>
    - <var>password</var> : <code>mypassword</code>
    - <var>database</var> : <code>mydatabase</code>
3. <Part>07. Kafka</Part> íŒŒíŠ¸ì—ì„œ ë„ì› ë˜ Target DB ë¥¼ í™•ì¸í•˜ê³  Grafana ì—ì„œ ì‹œê°í™”í•©ë‹ˆë‹¤.

    - <var>host</var> : <code>target-postgres-server</code>
    - <var>port</var> : <code>5432</code>
    - <var>user</var> : <code>targetuser</code>
    - <var>password</var> : <code>targetpassword</code>
    - <var>database</var> : <code>targetdatabase</code>

</PreviewDescription>

<BrowserWindow url="https://github.com/mlops-for-mle/mlops-for-mle/tree/main/ch8">

í•´ë‹¹ íŒŒíŠ¸ì˜ ì „ì²´ ì½”ë“œëŠ” [mlops-for-mle/ch8/](https://github.com/mlops-for-mle/mlops-for-mle/tree/main/ch8) ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
ch8
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ Makefile
â”œâ”€â”€ README.md
â”œâ”€â”€ data_subscriber.py
// highlight-next-line
â”œâ”€â”€ grafana-docker-compose.yaml
â””â”€â”€ stream-docker-compose.yaml
```

</BrowserWindow>

## 1. Grafana

Grafana ëŠ” ë©€í‹°í”Œë«í¼ ì˜¤í”ˆ ì†ŒìŠ¤ ì• ë„ë¦¬í‹±ìŠ¤ ë° ì¸í„°ë™í‹°ë¸Œ ì‹œê°í™” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. ì§€ì›ë˜ëŠ” ë°ì´í„° ì†ŒìŠ¤ì— ì—°ê²°í•  ë•Œ ì›¹ì˜ ì°¨íŠ¸, ê·¸ë˜í”„, ì•ŒëŒì„ ì œê³µí•©ë‹ˆë‹¤.

Grafana ì˜ ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ì°¨íŠ¸ë¥¼ í™œìš©í•´ ìƒí™©ì— ë§ëŠ” ëŒ€ì‹œë³´ë“œë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ë˜í•œ ì˜¤í”ˆì†ŒìŠ¤ì´ê¸° ë•Œë¬¸ì— ìì²´ì ì¸ Grafana ì»¤ë®¤ë‹ˆí‹°ë„ í™œì„±í™”ë˜ì–´ í•„ìš”í•œ ì •ë³´ë‚˜ ë§Œë“¤ì–´ì§„ ëŒ€ì‹œë³´ë“œë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ë˜í•œ ì—¬ëŸ¬ê°€ì§€ ë°ì´í„° ì†ŒìŠ¤ë¡œë¶€í„° ë°ì´í„°ë¥¼ ë°›ì•„ ì‹œê°í™” í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Grafana ëŒ€ì‹œë³´ë“œëŠ” [ê·¸ë¦¼ 8-3] ì˜ í˜•íƒœë¡œ ì¡´ì¬í•©ë‹ˆë‹¤.

<div style={{textAlign: 'center'}}>

  ![gf_img](./img/grafana-shape.png)  
  [ê·¸ë¦¼ 8-3] Grafana ëŒ€ì‹œë³´ë“œ êµ¬ì„±ë„
</div>

- <var>Dashboard</var> : 

    - í˜ì´ì§€ ìì²´ë¥¼ êµ¬ì„±í•˜ê³  ì „ì²´ ëŒ€ì‹œë³´ë“œ ì œëª©, ìƒˆë¡œê³ ì¹¨ ì£¼ê¸°, íŒ¨ë„ì´ ì‹œê°í™” í•  ê¸°ê°„ ë“±ì„ ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- <var>Panel</var> : 

    - <var>Dashboard</var> ì•ˆì— í¬í•¨ë˜ì–´ìˆëŠ” ì°¨íŠ¸ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. 
    - ì°¨íŠ¸ ì œëª©, ì°¨íŠ¸ ì¢…ë¥˜, ë°ì´í„° ì†ŒìŠ¤ì™€ ì¿¼ë¦¬ ë“±ì„ ì„¤ì • í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 2. Grafana Setup

### 2.1 Docker Compose

Grafana ë¥¼ ìƒì„±í•  Docker Compose íŒŒì¼ì„ ì‘ì„±í•©ë‹ˆë‹¤.

<CodeDescription>

```yaml title="grafana-docker-compose.yaml"
# grafana-docker-compose.yaml
version: "3"

services:
  grafana-dashboard:
    image: grafana/grafana
    ports:
     - 3000:3000
    environment:
      GF_SECURITY_ADMIN_USER: dashboarduser
      GF_SECURITY_ADMIN_PASSWORD: dashboardpassword
      GF_DASHBOARDS_MIN_REFRESH_INTERVAL: 500ms
```

- <var>service</var> :

    - ì„œë¹„ìŠ¤ì˜ ì´ë¦„ì€ <code>grafana-dashboard</code> ë¡œ í•©ë‹ˆë‹¤.
- <var>image</var> : 

    - ì‚¬ìš©í•  ì´ë¯¸ì§€ëŠ” <code>grafana/grafana</code> ì…ë‹ˆë‹¤.
- <var>ports</var> : 

    - Grafana ì˜ í¬íŠ¸ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. 
    - ë”°ë¡œ ì •í•˜ì§€ ì•ŠëŠ” ê²½ìš° ë‚´ë¶€ì ìœ¼ë¡œ 3000 í¬íŠ¸ë¥¼ ì´ìš©í•˜ê¸° ë•Œë¬¸ì— ì™¸ë¶€ í¬íŠ¸ì™€ì˜ ì—°ê²°ì—ë„ ë™ì¼í•˜ê²Œ <code>3000:3000</code> ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
- <var>environment</var> :

    - <var>GF_SECURITY_ADMIN_USER</var> : 

        - Grafana ì— ì ‘ì†í•˜ê¸° ìœ„í•œ admin ìœ ì €ì˜ ì ‘ì† ì•„ì´ë””ì…ë‹ˆë‹¤.
        - ì„¤ì •í•˜ì§€ ì•ŠëŠ” ê²½ìš° ê¸°ë³¸ê°’ì€ <code>admin</code> ì…ë‹ˆë‹¤.
        - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” <code>dashboarduser</code> ë¡œ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤.
    - <var>GF_SECURITY_ADMIN_PASSWORD</var> : 

        - Grafana ì— ì ‘ì†í•˜ê¸° ìœ„í•œ admin ìœ ì €ì˜ ì ‘ì† ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤.
        - ì„¤ì •í•˜ì§€ ì•ŠëŠ” ê²½ìš° ê¸°ë³¸ê°’ì€ <code>admin</code> ì…ë‹ˆë‹¤.
        - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” <code>dashboardpassword</code> ë¡œ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤.
    - <var>GF_DASHBOARDS_MIN_REFRESH_INTERVAL</var> : 

        - Grafana ì—ì„œ ëŒ€ì‹œë³´ë“œë¥¼ ë§Œë“¤ ë•Œ ì‹¤ì‹œê°„ìœ¼ë¡œ íŒ¨ë„ë“¤ì„ ê·¸ë¦¬ê¸° ìœ„í•œ ìƒˆë¡œê³ ì¹¨ì´ í•„ìš”í•˜ë©°, í•´ë‹¹ ì˜µì…˜ì€ ìƒˆë¡œê³ ì¹¨ ì£¼ê¸°ì˜ ìµœì†Œê°’ì„ ë³€ê²½í•©ë‹ˆë‹¤.
        - ì„¤ì •í•˜ì§€ ì•ŠëŠ” ê²½ìš° ê¸°ë³¸ê°’ì€ <code>5s</code> ì…ë‹ˆë‹¤.
        - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” <code>500ms</code> ë¡œ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤.

</CodeDescription>

:::info

Grafana ëŠ” [config íŒŒì¼](https://grafana.com/docs/grafana/latest/setup-grafana/configure-grafana/)ë¡œ <code>grafana.ini</code> ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. 
í•´ë‹¹ config íŒŒì¼ì„ ì„¤ì •í•˜ê±°ë‚˜ ê·œì¹™ì— ë§ì¶° í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ì—¬ Grafana ë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
[í™˜ê²½ë³€ìˆ˜ë¥¼ í™œìš©í•  ê²½ìš° ê·œì¹™](https://grafana.com/docs/grafana/latest/setup-grafana/configure-grafana/#override-configuration-with-environment-variables)ì€ `GF_<SectionName>_<KeyName>` ì…ë‹ˆë‹¤. 

Grafana ëŠ” ë©”íƒ€ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ DB ë¥¼ ì •ì˜í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ì •ì˜ë˜ì§€ ì•Šì€ ê²½ìš°, ê¸°ë³¸ê°’ìœ¼ë¡œ ì„œë²„ì— í¬í•¨ë˜ì–´ ìˆëŠ” SQLite3 ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. 

:::

ëª¨ë“  ì„œë¹„ìŠ¤ë¥¼ ë„ìš°ëŠ” ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

```yaml title="grafana-docker-compose.yaml"
# grafana-docker-compose.yaml
version: "3"

services:
  grafana-dashboard:
    image: grafana/grafana
    ports:
     - 3000:3000
    environment:
      GF_SECURITY_ADMIN_USER: dashboarduser
      GF_SECURITY_ADMIN_PASSWORD: dashboardpassword
      GF_DASHBOARDS_MIN_REFRESH_INTERVAL: 500ms

networks:
  default:
    name: mlops-network
    external: true

```

### 2.2 ì‹¤í–‰ ë° í™•ì¸

#### 2.2.1 ì‹¤í–‰

`docker compose` ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ì—¬ Grafana ì„œë¹„ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

<CodeDescription>

```bash
# terminal-command
docker compose -p ch8-dashboard -f grafana-docker-compose.yaml up -d
```

- <var>-p</var> : 

  - Project name ì€ <code>ch8-dashboard</code> ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.
- <var>-f</var> :

  - File name ì€ ìœ„ì—ì„œ ì‘ì„±í•œ íŒŒì¼ ì´ë¦„ì¸ <code>grafana-docker-compose.yaml</code> ì„ ì ì–´ì¤ë‹ˆë‹¤.

</CodeDescription>

#### 2.2.1 ì„œë¹„ìŠ¤ í™•ì¸

`docker ps` ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ì—¬ Grafana ì„œë¹„ìŠ¤ê°€ ì˜ ë„ì›Œì¡ŒëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

```bash
# terminal-command
docker ps
CONTAINER ID   IMAGE             COMMAND     CREATED         STATUS         PORTS                    NAMES
f56ea8f3f3bd   grafana/grafana   "/run.sh"   7 seconds ago   Up 6 seconds   0.0.0.0:3000->3000/tcp   ch8-dashboard-grafana-dashboard-1
```

## 3 Grafana Dashboard ë§Œë“¤ê¸°

### 3.1 Login

ì„œë¹„ìŠ¤ê°€ ë„ì›Œì¡Œë‹¤ë©´, [localhost:3000](http://localhost:3000) ì„ í†µí•´ Grafana ì— ì ‘ì†í•˜ì—¬ ì„¤ì •í–ˆë˜ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¡œ ì ‘ì†í•©ë‹ˆë‹¤.

<div style={{textAlign: 'center'}}>

![gf_img_4](./img/grafana-intro.png)  
[ê·¸ë¦¼ 8-4] Grafana ì ‘ì† í™”ë©´
</div>
<div style={{textAlign: 'center'}}>

![gf_img_5](./img/grafana-after-login.png)  
[ê·¸ë¦¼ 8-5] Grafana ë¡œê·¸ì¸ í›„ í™”ë©´
</div>

### 3.2 New Dashbaord

ë¡œê·¸ì¸ì´ ì˜ ë˜ì—ˆë‹¤ë©´ ì™¼ìª½ ì‚¬ì´ë“œë°”ì˜ `ë„¤ëª¨ ëª¨ì–‘ > New dashboard` ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.
<div style={{textAlign: 'center'}}>

![gf_img_6](./img/grafana-click-new.png)  
[ê·¸ë¦¼ 8-6] Grafana ìƒˆ ëŒ€ì‹œë³´ë“œ ìƒì„±
</div>
<div style={{textAlign: 'center'}}>

![gf_img_7](./img/grafana-initial-dashboard.png)  
[ê·¸ë¦¼ 8-7] Grafana ëŒ€ì‹œë³´ë“œ ì´ˆê¸° í™”ë©´
</div>

### 3.3 New Dashboard Setting

ë¨¼ì € Dashboard ì— ëŒ€í•œ ì„¤ì •ì„ í•´ë³´ê² ìŠµë‹ˆë‹¤.

1. ì˜¤ë¥¸ìª½ ìœ„ì˜ í†±ë‹ˆë°”í€´ âš™ï¸Â ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.
    <div style={{textAlign: 'center'}}>

    ![gf_img_8](./img/grafana-click-gear.png)  
    [ê·¸ë¦¼ 8-8] Grafana í†±ë‹ˆë°”í€´ í´ë¦­
    </div>

2. ëŒ€ì‹œë³´ë“œì˜ ì •ë³´ë“¤ì„ ì„¤ì •í•©ë‹ˆë‹¤.
    - <var>General</var>

        - ëŒ€ì‹œë³´ë“œì˜ ì´ë¦„ì€ <code>Iris classification</code> ìœ¼ë¡œ í•©ë‹ˆë‹¤.
    - <var>Time options</var>

        - <code>Auto refresh</code> ì˜ì—­ì— <code>1s,</code> ë¥¼ ì¶”ê°€í•˜ì—¬ [ê·¸ë¦¼ 8-9]ì™€ ê°™ì´ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.
        - <code>Refresh live dashboards</code> í† ê¸€ì„ í´ë¦­í•´ ì‹¤ì‹œê°„ìœ¼ë¡œ íŒ¨ë„ì˜ ì‹œê°„ ì¶•ì´ ì—…ë°ì´íŠ¸ ë˜ë„ë¡ í•´ì¤ë‹ˆë‹¤.

    <div style={{textAlign: 'center'}}>

    ![gf_img_9](./img/grafana-dashboard-setup.png)  
    [ê·¸ë¦¼ 8-9] Grafana ëŒ€ì‹œë³´ë“œ ì„¤ì •
    </div>

3. ì˜¤ë¥¸ìª½ ìœ„ì˜ `Save dashboard` ë²„íŠ¼ì„ í´ë¦­í•˜ê³ , `General` í´ë”ì— ì €ì¥í•©ë‹ˆë‹¤.

    <div style={{textAlign: 'center'}}>

    ![gf_img_10](./img/grafana-save-dashboard.png)  
    [ê·¸ë¦¼ 8-10] Grafana ëŒ€ì‹œë³´ë“œ ì €ì¥
    </div>

    <div style={{textAlign: 'center'}}>

    ![gf_img_11](./img/grafana-after-save.png)  
    [ê·¸ë¦¼ 8-11] Grafana ëŒ€ì‹œë³´ë“œ ì €ì¥ í›„
    </div>

## 4. Source database ê·¸ë¦¬ê¸°

### 4.1 Data Source ì—°ê²°í•˜ê¸°

1. ì™¼ìª½ ì•„ë˜ í†±ë‹ˆë°”í€´ `âš™ï¸Â ë²„íŠ¼ > Data sources` ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.

    <div style={{textAlign: 'center'}}>

    ![gf_img_12](./img/grafana-data-source-1.png)  
    [ê·¸ë¦¼ 8-12] Grafana ë°ì´í„° ì†ŒìŠ¤ ì—°ê²° ì§„ì…
    </div>

2. `Add data source` ë²„íŠ¼ì„ í´ë¦­í•˜ê³ , PostgreSQL ì„ ê²€ìƒ‰í•˜ì—¬ í´ë¦­í•©ë‹ˆë‹¤.

    <div style={{textAlign: 'center'}}>

    ![gf_img_13](./img/grafana-data-source-2.png)  
    [ê·¸ë¦¼ 8-13] Grafana ë°ì´í„° ì†ŒìŠ¤ ì—°ê²° í´ë¦­
    </div>

    <div style={{textAlign: 'center'}}>

    ![gf_img_14](./img/grafana-data-source-3.png)    
    [ê·¸ë¦¼ 8-14] Grafana ë°ì´í„° ì†ŒìŠ¤ ê²€ìƒ‰ 1
    </div>

    <div style={{textAlign: 'center'}}>

    ![gf_img_15](./img/grafana-data-source-4.png)  
    [ê·¸ë¦¼ 8-15] Grafana ë°ì´í„° ì†ŒìŠ¤ ê²€ìƒ‰ 2
    </div>

3. <Part>01. Database</Part> íŒŒíŠ¸ì—ì„œ ìƒì„±í–ˆë˜ Source DB ì˜ ì •ë³´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤. <code>Default</code> ë¡œ ì²´í¬ë˜ì–´ ìˆëŠ” í† ê¸€ì€ í•´ì œí•´ ì¤ë‹ˆë‹¤. ì‘ì„±ì´ ëë‚˜ë©´ <code>Save & test</code> ë²„íŠ¼ì„ ëˆ„ë¦…ë‹ˆë‹¤.
    
    - <var>Name</var> : <code>Source-database</code>
    - <var>Host</var> : <code>postgres-server:5432</code>
    - <var>Database</var> : <code>mydatabase</code>
    - <var>User</var> : <code>myuser</code>
    - <var>Password</var> : <code>mypassword</code>
    - <var>TLS/SSL Mode</var> : <code>disable</code>
    - <var>Version</var> : <code>14.0</code>

    <div style={{textAlign: 'center'}}>

    ![gf_img_16](./img/grafana-data-source-5.png)  
    [ê·¸ë¦¼ 8-16] Grafana Source DB ì—°ê²° ì„¤ì •
    </div>

4. Source DB ì—°ê²°ì— ì„±ê³µí•˜ë©´ `Database Connection OK` ë¼ëŠ” ë¬¸êµ¬ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.

    <div style={{textAlign: 'center'}}>

    ![gf_img_17](./img/grafana-data-source-6.png)  
    [ê·¸ë¦¼ 8-17] Grafana Source DB ì—°ê²° í™•ì¸
    </div>

### 4.2 Panel ë§Œë“¤ê¸°

1. `ë„¤ëª¨ ëª¨ì–‘ > Browse` ë¥¼ í´ë¦­í•˜ì—¬ ë‹¤ìŒ í™”ë©´ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.

    <div style={{textAlign: 'center'}}>

    ![gf_img_18](./img/grafana-panel-1.png)  
    [ê·¸ë¦¼ 8-18] Grafana ëŒ€ì‹œë³´ë“œë¡œ ì´ë™ 1
    </div>

2. ê·¸ëŸ¬ë©´ ì•ì„œ ë§Œë“¤ì–´ ë‘ì—ˆë˜ `Iris classification` ëŒ€ì‹œë³´ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í´ë¦­í•˜ì—¬ ì´ë™í•©ë‹ˆë‹¤.

    <div style={{textAlign: 'center'}}>

    ![gf_img_19](./img/grafana-panel-2.png)  
    [ê·¸ë¦¼ 8-19] Grafana ëŒ€ì‹œë³´ë“œë¡œ ì´ë™ 2
    </div>

    <div style={{textAlign: 'center'}}>

    ![gf_img_20](./img/grafana-panel-3.png)  
    [ê·¸ë¦¼ 8-20] Grafana ëŒ€ì‹œë³´ë“œë¡œ ì´ë™ 3
    </div>

3. ì´ì œ ìš°ì¸¡ ìƒë‹¨ì˜ ì°¨íŠ¸ ğŸ“ŠÂ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ íŒ¨ë„ì„ ìƒì„± í•©ë‹ˆë‹¤. ìƒì„±ëœ íŒ¨ë„ì—ì„œ `Add a new panel` ì˜µì…˜ì„ ì„ íƒí•©ë‹ˆë‹¤.
    <div style={{textAlign: 'center'}}>

    ![gf_img](./img/grafana-add-panel-1.png)  
    [ê·¸ë¦¼ 8-21] Grafana íŒ¨ë„ ìƒì„±
    </div>

    <div style={{textAlign: 'center'}}>

    ![gf_img](./img/grafana-add-panel-2.png)  
    [ê·¸ë¦¼ 8-22] Grafana íŒ¨ë„ ìƒì„± 2
    </div>

4. íŒ¨ë„ì˜ ì •ë³´ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
    - ìš°ì¸¡ íƒ­ : íŒ¨ë„ì˜ ì´ë¦„, ì°¨íŠ¸ì˜ ì¢…ë¥˜ ë“±ì„ ì„¤ì • í•©ë‹ˆë‹¤.
        - ê¸°ë³¸ ê°’ìœ¼ë¡œ `Time series` ì°¨íŠ¸ê°€ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
        - ì˜¤ë¥¸ìª½ íƒ­ì˜ `Title` ì— íŒ¨ë„ì˜ ì´ë¦„ì„ ë¶™ì—¬ì¤ë‹ˆë‹¤. 
        - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” `Iris source data` ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
    - í•˜ë‹¨ íƒ­ : DB ì—ì„œ ì‹œê°í™” í•  í…Œì´ë¸” ë° column ì •ë³´ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
        - <var>Data source</var> : <code>Source-database</code>
        - <var>Table</var> : <code>iris_data</code>
        - <var>Column</var> : â• ë²„íŠ¼ì„ ëˆŒëŸ¬ ì‹œê°í™” ëŒ€ìƒì˜ column ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

            - `timestamp`
            - `sepal_length`
            - `sepal_width`
            - `petal_length`
            - `petal_width`
        - `Run query` ë²„íŠ¼ ì˜¤ë¥¸ìª½ì˜ `Code` ë²„íŠ¼ì„ í´ë¦­í•˜ê³  `Limit` ë¶€ë¶„ì„ ì§€ì›Œì¤ë‹ˆë‹¤.
        - `Run query` ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.

    <div style={{textAlign: 'center'}}>

    ![gf_img_23](./img/grafana-set-panel-1.png)  
    [ê·¸ë¦¼ 8-23] Grafana íŒ¨ë„ ì„¤ì •
    </div>

5. ì‘ì—…ì´ ë§ˆë¬´ë¦¬ ë˜ì—ˆìœ¼ë©´ ì˜¤ë¥¸ìª½ ìœ„ì˜ `Save` ë²„íŠ¼ì„ í†µí•´ íŒ¨ë„ì„ ì €ì¥í•©ë‹ˆë‹¤.

    <div style={{textAlign: 'center'}}>

    ![gf_img_24](./img/grafana-save-panel-1.png)  
    [ê·¸ë¦¼ 8-24] Grafana íŒ¨ë„ ì €ì¥
    </div>

6. ì €ì¥ì´ ì™„ë£Œë˜ë©´ ì™¼ìª½ ìœ„ì˜ í™”ì‚´í‘œ â¬…ï¸Â ë²„íŠ¼ì„ ëˆŒëŸ¬ ë’¤ë¡œ ì´ë™í•©ë‹ˆë‹¤.
7. ì´ì œ ëŒ€ì‹œë³´ë“œì˜ íŒ¨ë„ ìƒˆë¡œê³ ì¹¨ ì£¼ê¸° ë° íŒ¨ë„ ì‹œê°í™” ê¸°ê°„ì„ ì„¤ì •í•©ë‹ˆë‹¤.
    - ì˜¤ë¥¸ìª½ ìœ„ì˜ `ğŸ•™Â Last 6 hours` ë¥¼ í´ë¦­í•˜ì—¬ íŒ¨ë„ì— ì‹œê°í™” í•  ê¸°ê°„ì„ ëª…ì„¸í•©ë‹ˆë‹¤.
    - 1ì´ˆ ë‹¨ìœ„ë¡œ ë°ì´í„°ê°€ ìƒì„± ë˜ê¸° ë•Œë¬¸ì—, 30ì´ˆë¥¼ ëª¨ë‹ˆí„°ë§ í•˜ê¸° ìœ„í•´ì„œ `From` ë¶€ë¶„ì„ `now-30s` ë¡œ ë°”ê¿”ì£¼ê² ìŠµë‹ˆë‹¤. ë°”ê¾¸ê³  ë‚œ ë‹¤ìŒ `Apply time range` ë²„íŠ¼ì„ í´ë¦­ í•©ë‹ˆë‹¤.
    - ì˜¤ë¥¸ìª½ ìœ„ì˜ ğŸ”„Â ë²„íŠ¼ì„ ëˆ„ë¥´ê³  ì„¤ì •í–ˆë˜ `1s` ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.

    <div style={{textAlign: 'center'}}>

    ![gf_img_25](./img/grafana-set-time-1.png)  
    [ê·¸ë¦¼ 8-25] Grafana ì‹œê°í™” ê¸°ê°„ ì„¤ì •
    </div>

    <div style={{textAlign: 'center'}}>

    ![gf_img_26](./img/grafana-set-time-2.png)  
    [ê·¸ë¦¼ 8-26] Grafana ìƒˆë¡œê³ ì¹¨ ì£¼ê¸° ì„¤ì •
    </div>

8. ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ì„ í™•ì¸í•˜ê³  ìˆ˜ì •ëœ ëŒ€ì‹œë³´ë“œë¥¼ ì˜¤ë¥¸ìª½ ìœ„ì˜ ğŸ’¾Â ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤.
    - ì €ì¥ì‹œì— `save current time range as dashboard default` ë¥¼ ì²´í¬ í•©ë‹ˆë‹¤.

    <div style={{textAlign: 'center'}}>

    ![gf_img_27](./img/grafana-set-time-3.png)  
    [ê·¸ë¦¼ 8-27] Grafana ëŒ€ì‹œë³´ë“œ ì €ì¥
    </div>

## 5. Inference database ê·¸ë¦¬ê¸°

ì•ì„œ Source Database ê·¸ë¦¬ê¸°ì—ì„œ í–ˆë˜ ë‚´ìš©ì„ ë°˜ë³µí•©ë‹ˆë‹¤.

### 5.1 Data Source ì—°ê²°í•˜ê¸°

1. ì™¼ìª½ ì•„ë˜ í†±ë‹ˆë°”í€´ `âš™ï¸Â ë²„íŠ¼ > Data sources` ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.

2. `Add data source` ë²„íŠ¼ì„ í´ë¦­í•˜ê³ , PostgreSQL ì„ ê²€ìƒ‰í•˜ì—¬ í´ë¦­í•©ë‹ˆë‹¤.

    <div style={{textAlign: 'center'}}>

    ![gf_img_28](./img/grafana-data-source2-1.png)  
    [ê·¸ë¦¼ 8-28] Grafana ì¶”ë¡  ê²°ê³¼ ë°ì´í„° ì†ŒìŠ¤ ì´ë™
    </div>

3. <Part>01. Database</Part> íŒŒíŠ¸ì—ì„œ ìƒì„±í–ˆë˜ Target DB ì˜ ì •ë³´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤. <code>Default</code> ë¡œ ì²´í¬ë˜ì–´ ìˆëŠ” í† ê¸€ì€ í•´ì œí•´ ì¤ë‹ˆë‹¤. ì‘ì„±ì´ ëë‚˜ë©´ <code>Save & test</code> ë²„íŠ¼ì„ ëˆ„ë¦…ë‹ˆë‹¤.

    - <var>Name</var> : <code>Inference-database</code>
    - <var>Host</var> : <code>target-postgres-server:5432</code>
    - <var>Database</var> : <code>targetdatabase</code>
    - <var>User</var> : <code>targetuser</code>
    - <var>Password</var> : <code>targetpassword</code>
    - <var>TLS/SSL Mode</var> : <code>disable</code>
    - <var>Version</var> : <code>14.0</code>

    <div style={{textAlign: 'center'}}>

    ![gf_img_29](./img/grafana-data-source2-2.png)  
    [ê·¸ë¦¼ 8-29] Grafana Target DB ì—°ê²° ì„¤ì •
    </div>

4. ë§ˆì°¬ê°€ì§€ë¡œ Target DB ì—°ê²°ì— ì„±ê³µí•˜ë©´ `Database Connection OK` ë¼ëŠ” ë¬¸êµ¬ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.

    <div style={{textAlign: 'center'}}>

    ![gf_img_30](./img/grafana-data-source-6.png)  
    [ê·¸ë¦¼ 8-30] Grafana Target DB ì—°ê²° í™•ì¸
    </div>

### 5.2 Panel ë§Œë“¤ê¸°

1. `ë„¤ëª¨ ëª¨ì–‘ > Browse` ë¥¼ í´ë¦­í•˜ì—¬ ë‹¤ìŒ í™”ë©´ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.

2. `Iris classification` dashboard í´ë¦­í•˜ì—¬ ì´ë™í•©ë‹ˆë‹¤.

    <div style={{textAlign: 'center'}}>

    ![gf_img_31](./img/grafana-move-to-board-1.png)  
    [ê·¸ë¦¼ 8-31] Grafana ëŒ€ì‹œ ë³´ë“œë¡œ ì´ë™
    </div>

    <div style={{textAlign: 'center'}}>

    ![gf_img_32](./img/grafana-move-to-board-2.png)  
    [ê·¸ë¦¼ 8-32] Grafana ëŒ€ì‹œ ë³´ë“œë¡œ ì´ë™ 2
    </div>

3. ì™„ì„±í•´ë‘ì—ˆë˜ `Iris source data` íŒ¨ë„ì„ í™•ì¸í•˜ê³ , ì˜¤ë¥¸ìª½ ìƒë‹¨ì˜ ì°¨íŠ¸ ğŸ“ŠÂ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ íŒ¨ë„ì„ ìƒì„± í•©ë‹ˆë‹¤. ìƒì„±ëœ íŒ¨ë„ì—ì„œ `Add a new panel` ì˜µì…˜ì„ ì„ íƒí•©ë‹ˆë‹¤.

    <div style={{textAlign: 'center'}}>

    ![gf_img_33](./img/grafana-add-panel2.png)  
    [ê·¸ë¦¼ 8-33] Grafana ì¶”ë¡  íŒ¨ë„ ìƒì„±
    </div>

5. íŒ¨ë„ì˜ ì •ë³´ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
    - ìš°ì¸¡ íƒ­ : íŒ¨ë„ì˜ ì´ë¦„, ì°¨íŠ¸ì˜ ì¢…ë¥˜ ë“±ì„ ì„¤ì • í•©ë‹ˆë‹¤.
        - ê¸°ë³¸ ê°’ìœ¼ë¡œ `Time series` ì°¨íŠ¸ê°€ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
        - ì˜¤ë¥¸ìª½ íƒ­ì˜ `Title` ì— íŒ¨ë„ì˜ ì´ë¦„ì„ ë¶™ì—¬ì¤ë‹ˆë‹¤. 
        - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” `Iris inference result` ë¡œ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤.
    - í•˜ë‹¨ íƒ­ : ë°ì´í„° ë² ì´ìŠ¤ì—ì„œ ì‹œê°í™” í•  í…Œì´ë¸” ë° ì—´ ì •ë³´ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
        - <var>Data source</var> : <code>Inference-database</code>
        - <var>Table</var> : <code>iris_prediction</code>
        - <var>Column</var> : â• ë²„íŠ¼ì„ ëˆŒëŸ¬ ì‹œê°í™” ëŒ€ìƒì˜ column ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

            - `timestamp`
            - `iris_class`
        - `Run query` ë²„íŠ¼ ì˜¤ë¥¸ìª½ì˜ `Code` ë²„íŠ¼ì„ í´ë¦­í•˜ê³  `Limit` ë¶€ë¶„ì„ ì§€ì›Œì¤ë‹ˆë‹¤.
        - `Run query` ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.
6. ì‘ì—…ì´ ë§ˆë¬´ë¦¬ ë˜ì—ˆìœ¼ë©´ ì˜¤ë¥¸ìª½ ìœ„ì˜ `Save` ë²„íŠ¼ì„ í†µí•´ íŒ¨ë„ì„ ì €ì¥í•©ë‹ˆë‹¤.
7. ì €ì¥ì´ ì™„ë£Œë˜ë©´ ì™¼ìª½ ìœ„ì˜ í™”ì‚´í‘œ â¬…ï¸Â ë²„íŠ¼ì„ ëˆŒëŸ¬ ë’¤ë¡œ ì´ë™í•©ë‹ˆë‹¤.

    <div style={{textAlign: 'center'}}>

    ![gf_img_34](./img/grafana-set-panel2.png)  
    [ê·¸ë¦¼ 8-34] Grafana ì¶”ë¡  íŒ¨ë„ ì„¤ì •
    </div>

    <div style={{textAlign: 'center'}}>

    ![gf_img_35](./img/grafana-save-panel2.png)  
    [ê·¸ë¦¼ 8-35] Grafana ì¶”ë¡  íŒ¨ë„ ì €ì¥
    </div>


## 6. ì™„ì„±ëœ ëŒ€ì‹œë³´ë“œ í™•ì¸

ì•ì„œ ì„¤ì •í•´ë‘” ëŒ€ì‹œë³´ë“œì˜ ì‹œê°í™” ê¸°ê°„ê³¼ ìƒˆë¡œê³ ì¹¨ ì£¼ê¸°ëŠ” ë‹¤ì‹œ ì„¤ì •í•˜ì§€ ì•Šì•„ë„ ì „ì²´ íŒ¨ë„ì— ì ìš©ë©ë‹ˆë‹¤. ìµœì¢… ì‹œê°í™” ê²°ê³¼ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

<div style={{textAlign: 'center'}}>

![gf_img_36](./img/grafana-final-result.gif)  
[ê·¸ë¦¼ 8-36] Grafana ìµœì¢… ì™„ì„± ëŒ€ì‹œë³´ë“œ
</div>
