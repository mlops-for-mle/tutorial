---
sidebar_position: 1
description: ğŸ“Œ FastAPI ì˜ ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ ê°„ë‹¨í•œ API ë¥¼ ë§Œë“¤ì–´ë´…ë‹ˆë‹¤.
---

# 1) FastAPI Tutorial

## ëª©í‘œ

1. FastAPI ì˜ ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ ê°„ë‹¨í•œ API ë¥¼ ë§Œë“¤ì–´ë´…ë‹ˆë‹¤.
2. Path Parameter ì™€ Query Parameter ë¥¼ ì´í•´í•˜ê³  ì´ë¥¼ ì´ìš©í•˜ì—¬ API ë¥¼ ë§Œë“¤ì–´ë´…ë‹ˆë‹¤.

## ìŠ¤í™ ëª…ì„¸ì„œ

FastAPI ì˜ [ê³µì‹ ë¬¸ì„œ](https://fastapi.tiangolo.com/)ë¥¼ ì°¸ê³ í•˜ì—¬ íŠœí† ë¦¬ì–¼ì„ ì§„í–‰í•©ë‹ˆë‹¤.

1. í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
2. [First Steps](https://fastapi.tiangolo.com/tutorial/first-steps/) ë¥¼ ë”°ë¼ FastAPI ë¥¼ ì´ìš©í•´ ê°„ë‹¨í•œ API ë¥¼ ë§Œë“¤ì–´ë´…ë‹ˆë‹¤.
3. [Path Parameter](https://fastapi.tiangolo.com/tutorial/path-params/) ì— ëŒ€í•´ í•™ìŠµí•©ë‹ˆë‹¤.
4. [Query Parameter](https://fastapi.tiangolo.com/tutorial/query-params/) ì— ëŒ€í•´ í•™ìŠµí•©ë‹ˆë‹¤.
5. Path parameter ì™€ Query parameter ë¥¼ ëª¨ë‘ ì‚¬ìš©í•˜ì—¬ API ë¥¼ ë§Œë“¤ì–´ë´…ë‹ˆë‹¤. [[Multiple path and query parameters](https://fastapi.tiangolo.com/tutorial/query-params/#multiple-path-and-query-parameters)]

---

## 0. íŒ¨í‚¤ì§€ ì„¤ì¹˜

í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤. [[Tutorial - User Guide - Intro](https://fastapi.tiangolo.com/tutorial/)]

```bash
pip install "fastapi[all]"
```

## 1. FastAPI ë¥¼ ì´ìš©í•´ ê°„ë‹¨í•œ API ë§Œë“¤ì–´ë³´ê¸°

### 1.1 `main.py`

ë‹¤ìŒê³¼ ê°™ì´ `main.py` ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. [[First Steps](https://fastapi.tiangolo.com/tutorial/first-steps/)]

```python  title="main.py"
# main.py
from fastapi import FastAPI

# Create a FastAPI instance
app = FastAPI()


@app.get("/")
def read_root():
    return {"Hello": "World"}
```

### 1.2 ì‹¤í–‰

í„°ë¯¸ë„ì— ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ ì‘ì„±í•œ íŒŒì¼ì„ ì‹¤í–‰í•©ë‹ˆë‹¤. íŒŒì¼ì„ ì‹¤í–‰í•˜ëŠ” ë²•ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

```bash
$ uvicorn main:app --reload
```

- `uvicorn` : FastAPI ë¥¼ ì‹¤í–‰í•˜ëŠ” ì›¹ ì„œë²„ ì‹¤í–‰ Command Line Tool ì…ë‹ˆë‹¤.
- `main` : ìœ„ì—ì„œ ì‘ì„±í•œ python ëª¨ë“ˆ `main.py` ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
- `app` : `main.py` ì—ì„œ `app = FastAPI()` ë¥¼ í†µí•´ ìƒì„±ëœ ê°ì²´ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
- `--reload` : ì½”ë“œê°€ ë°”ë€Œì—ˆì„ ë•Œ ì„œë²„ê°€ ì¬ì‹œì‘í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤.

### 1.3 ì‹¤í–‰ í™•ì¸

ì´ì œ [`http://localhost:8000`](http://localhost:8000) ì— ì ‘ì†í•´ë³´ë©´ ë‹¤ìŒ í™”ë©´ê³¼ ê°™ì´ `{"Hello": "World"}` ê°€ í‘œì‹œë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<div style={{textAlign: 'center'}}>

![API Running Screen](./img/fastapi-2.png)
[ê·¸ë¦¼ 5-2] ì‹¤í–‰ í™”ë©´ ì˜ˆì‹œ

</div>

ì´ë²ˆì—ëŠ” [`http://localhost:8000/docs`](http://localhost:8000/docs) ì— ì ‘ì†í•´ ë´…ì‹œë‹¤.
ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¡œ ëœ í™”ë©´ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<div style={{textAlign: 'center'}}>

![Swagger UI Screen](./img/fastapi-3.png)
[ê·¸ë¦¼ 5-3] Swagger UI í™”ë©´ ì˜ˆì‹œ

</div>

ì´ëŠ” [Swagger UI](https://github.com/swagger-api/swagger-ui) ì— ì˜í•´ ì œê³µë˜ëŠ” interactive API documentation ì…ë‹ˆë‹¤.
ì´ë¥¼ í†µí•´ ì‘ì„±í•œ API ë¥¼ ë‹¤ì–‘í•˜ê²Œ ì‹¤í—˜ì„ í•´ë³´ë©´ì„œ ì˜ ì‘ì„± ë˜ì—ˆëŠ”ì§€ í…ŒìŠ¤íŠ¸í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 2. Step by step ìœ¼ë¡œ ì´í•´í•˜ê¸°

ì´ë²ˆì—ëŠ” [First Steps](https://fastapi.tiangolo.com/tutorial/first-steps/) ì— ìˆëŠ” ì½”ë“œë¥¼ í•œ ì¤„ì”© ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

### 2.1 Step 1: Import FastAPI

API ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” Python í´ë˜ìŠ¤ `FastAPI` ë¥¼ import í•©ë‹ˆë‹¤.

```python
from fastapi import FastAPI
```

### 2.2 Step 2: Create a FastAPI instance

`FastAPI` í´ë˜ìŠ¤ì˜ instance ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
ì—¬ê¸°ì—ì„œ ìƒì„±í•˜ëŠ” instance ì˜ ì´ë¦„ì— ë”°ë¼ `uvicorn main:app --reload` ê³¼ ê°™ì€ í˜•íƒœë¡œ ì‹¤í–‰ ëª…ë ¹ì–´ê°€ ë‹¬ë¼ì§€ê²Œ ë©ë‹ˆë‹¤.

```python
app = FastAPI()
```

### 2.3 Step 3: Create a *path* operation

ì—¬ê¸°ì—ì„œ ë§í•˜ëŠ” *path* ëŠ” URL ì—ì„œ ì²« ë²ˆì§¸ `/` ë¶€í„° ì‹œì‘ë˜ëŠ” ë§ˆì§€ë§‰ ë¶€ë¶„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´ URL ì´ `https://example.com/items/foo` ì™€ ê°™ì´ ë˜ì–´ ìˆë‹¤ë©´, path ëŠ” `/items/foo` ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â€œOperationâ€ ì€ POST, GET, PUT, DELETE ë“±ê³¼ ê°™ì€ HTTP â€œmethodsâ€ ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
ì´ëŸ¬í•œ operation ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ `@app.get("/")` ì™€ ê°™ì€ *path operation decorator* ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

`@app.get("/")` ì€ FastAPI ë¡œ í•˜ì—¬ê¸ˆ path `/` ë¡œ ê°€ì„œ `get` operation ì„ ìˆ˜í–‰í•˜ë¼ëŠ” ì˜ë¯¸ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 2.4 Step 4: Define the path operation function

Path operation function ì€ path operation ì´ ìˆ˜í–‰ë˜ì—ˆì„ ë•Œ í˜¸ì¶œë  python í•¨ìˆ˜ë¥¼ ë§í•©ë‹ˆë‹¤.
ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¡œ ì‚¬ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.

```python
@app.get("/")
def read_root():
    return {"Hello": "World"}
```

### 2.5 Step 5: Return the content

Path operation function ì„ í†µí•´ return í•˜ëŠ” ê°’ìœ¼ë¡œëŠ” `dict` , `list` , `str` , `int` ë“±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
ë˜í•œ, ë’¤ì—ì„œ ë‚˜ì˜¬ Pydantic model ì˜ í˜•íƒœë¡œë„ return í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 3. Path Parameter ì´í•´í•˜ê¸°

Path Parameter ëŠ” path operation ì— í¬í•¨ëœ ë³€ìˆ˜ë¡œ ì‚¬ìš©ìì—ê²Œ ì…ë ¥ë°›ì•„ function ì˜ argument ë¡œ ì‚¬ìš©ë˜ëŠ” parameter ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. [[Path Parameters](https://fastapi.tiangolo.com/tutorial/path-params/)]

ë‹¤ìŒê³¼ ê°™ì´ `path_param.py` ë¥¼ ì‘ì„±í•˜ê³  `uvicorn path_param:app --reload` ë¥¼ ì…ë ¥í•˜ì—¬ ì‹¤í–‰í•©ë‹ˆë‹¤.

```python
# path_param.py
from fastapi import FastAPI

# Create a FastAPI instance
app = FastAPI()


@app.get("/items/{item_id}")
def read_item(item_id: int):
		return {"item_id": item_id}
```

ìœ„ì™€ ê°™ì´ path ì— parameter ë¥¼ ì…ë ¥í•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì—¬ê¸°ì—ì„œ `item_id` ì™€ ê°™ì€ parameter ë¥¼ Path Parameter ë¼ê³  í•©ë‹ˆë‹¤.
ì…ë ¥ëœ Path parameter ì˜ ê°’ì€ function ì— argument ë¡œ ì „ë‹¬ë˜ì–´ í•¨ìˆ˜ê°€ í˜¸ì¶œë©ë‹ˆë‹¤.

ë˜í•œ, `def read_item(item_id: int)` ì™€ ê°™ì´ type (ì—¬ê¸°ì—ì„œëŠ” `int`)ì„ ì œê³µí•  ìˆ˜ ìˆëŠ”ë° ì´ ë•Œ ì œê³µëœ ê²ƒê³¼ ë‹¤ë¥¸ type (ì˜ˆë¥¼ ë“¤ì–´ `str`) ì˜ ë°ì´í„°ê°€ ì…ë ¥ë˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¡œ HTTP Error ë¥¼ return í•˜ê²Œ ë©ë‹ˆë‹¤.

```json
{
    "detail": [
        {
            "loc": [
                "path",
                "item_id"
            ],
            "msg": "value is not a valid integer",
            "type": "type_error.integer"
        }
    ]
}
```

## 4. Query Parameter ì´í•´í•˜ê¸°

Query Parameter ëŠ” function parameter ë¡œëŠ” ì‚¬ìš©ë˜ì§€ë§Œ path operation ì— í¬í•¨ë˜ì§€ ì•Šì•„ Path Parameter ë¼ê³  í•  ìˆ˜ ì—†ëŠ” parameter ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. [[Query Parameters](https://fastapi.tiangolo.com/tutorial/query-params/)]

ë‹¤ìŒê³¼ ê°™ì´ `query_param.py` ë¥¼ ì‘ì„±í•˜ê³  `uvicorn query_param:app --reload` ë¥¼ ì…ë ¥í•˜ì—¬ ì‹¤í–‰í•©ë‹ˆë‹¤.

```python
# query_param.py
from fastapi import FastAPI

# Create a FastAPI instance
app = FastAPI()

fake_items_db = [{"item_name": "Foo"}, {"item_name": "Bar"}, {"item_name": "Baz"}]


@app.get("/items/")
def read_item(skip: int = 0, limit: int = 10):
    return fake_items_db[skip : skip + limit]
```

Path parameter ì™€ëŠ” ë‹¤ë¥´ê²Œ, function ì— parameter ë¡œ ë“¤ì–´ìˆëŠ” `skip` ê³¼ `limit` ì´ path operation ì¸ `@app.get("/items/")` ì—ëŠ” ë“¤ì–´ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.

Query ëŠ” URL ì—ì„œ `?` ë’¤ì— key-value ìŒì˜ í˜•íƒœë¡œ ë‚˜íƒ€ë‚˜ê³ , `&` ë¡œ êµ¬ë¶„ë˜ì–´ ì‚¬ìš©ë©ë‹ˆë‹¤.
ì˜ˆë¥¼ ë“¤ë©´, ìœ„ì™€ ê°™ì€ ê²½ìš° `http://localhost:8000/items/?skip=0&limit=10` ê³¼ ê°™ì€ í˜•íƒœë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
Query Parameter ëŠ” path ì˜ ê³ ì •ëœ ë¶€ë¶„ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— optional ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆê³ , ë”°ë¼ì„œ default ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ìœ„ì˜ ì˜ˆì‹œì—ì„œëŠ” `skip=0` ê³¼ `limit=10` ì˜ default ê°’ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ í•­ìƒ default ê°’ì„ ê°€ì§€ëŠ” ê²ƒì€ ì•„ë‹ˆê³ , ê°’ì„ ì…ë ¥ë°›ì•„ì•¼ë§Œ í•˜ëŠ” query parameter ë„ ì¡´ì¬í•©ë‹ˆë‹¤.
ì´ë¥¼ Required Query Parameter ë¼ê³  í•˜ê³  ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
@app.get("/items/{item_id}")
def read_user_item(item_id: str, needy: str):
		item = {"item_id": item_id, "needy": needy}
		return item
```

ìœ„ì˜ ì˜ˆì‹œì—ì„œ `needy` ëŠ” path operation `@app.get("/items/{item_id}")` ì— í¬í•¨ë˜ì–´ ìˆì§€ ì•Šìœ¼ë¯€ë¡œ query parameter ì´ê³ , function `read_user_item()` ì—ì„œ default ê°’ì´ ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— required query parameter ì„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì´ëŸ¬í•œ ê²½ìš° `http://localhost:8000/items/foo-item` ì™€ ê°™ì´ `needy` ë¥¼ ì…ë ¥í•´ì£¼ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.
ë”°ë¼ì„œ `http://localhost:8000/items/foo-item?needy=someneedy` ì™€ ê°™ì€ í˜•íƒœë¡œ `?` ë’¤ì— ì…ë ¥ì„ í•´ ì£¼ì–´ì•¼ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šê³  í•¨ìˆ˜ê°€ ì œëŒ€ë¡œ ë™ì‘í•©ë‹ˆë‹¤.

## 5. Multiple path and query parameters ì‚¬ìš©í•´ë³´ê¸°

Path parameter ì™€ Query parameter ë¥¼ ëª¨ë‘ ì‚¬ìš©í•˜ì—¬ path operation function ì„ ì‘ì„±í•´ë´…ë‹ˆë‹¤. [[Multiple path and query parameters](https://fastapi.tiangolo.com/tutorial/query-params/#multiple-path-and-query-parameters)]

ë‹¤ìŒê³¼ ê°™ì´ `multi_param.py` ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

```python
# multi_param.py
from typing import Union

from fastapi import FastAPI

# Create a FastAPI instance
app = FastAPI()


@app.get("/users/{user_id}/items/{item_id}")
def read_user_item(user_id: int, item_id: str, q: Union[str, None] = None, short: bool = False):
    item = {"item_id": item_id, "owner_id": user_id}
    if q:
        item.update({"q": q})
    if not short:
        item.update(
            {"description": "This is an amazing item that has a long description"},
        )
    return item
```

ë¨¼ì € path operation ì„ ë³´ë©´, `@app.get("/users/{user_id}/items/{item_id}")` ë¡œ ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
ì´ë¥¼ í†µí•´ `user_id` ì™€ `item_id` ë¼ëŠ” path parameter ê°€ ìˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ë²ˆì—ëŠ” path operation function ì˜ parameter ë¥¼ ì‚´í´ ë³´ë©´, `user_id`, `item_id`, `q`, `short` ê°€ ìˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì´ ì¤‘ path parameter ê°€ ì•„ë‹Œ `q` ì™€ `short` ëŠ” query parameter ì„ì„ ì•Œ ìˆ˜ ìˆê³ , default ê°’ì´ ê°ê° `None` ê³¼ `False` ì„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¡œ URL ì„ ì¤„ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.

- `http://localhost:8000/users/3/items/foo-item?q=hello&short=True`
- `http://localhost:8000/users/3/items/foo-item?short=True`
- `http://localhost:8000/users/3/items/foo-item?q=hello`
- `http://localhost:8000/users/3/items/foo-item`
