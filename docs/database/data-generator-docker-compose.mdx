---
sidebar_position: 6
description: ğŸ“Œ DB container ì™€ data generator container ë¥¼ í•¨ê»˜ ë„ìš°ê¸° ìœ„í•œ `docker-compose` íŒŒì¼ì„ ì‘ì„±í•©ë‹ˆë‹¤.
---

# 6) Data Generator on Docker Compose
import CodeDescription from '@site/src/components/CodeDescription';
import BrowserWindow from '@site/src/components/BrowserWindow';


<details>
<summary>ëª©í‘œ ë° ìŠ¤í™ ëª…ì„¸ì„œ</summary>
<CodeDescription>

### ëª©í‘œ

1. Docker ìœ„ì—ì„œ ë°ì´í„°ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ ì¤€ë¹„ë¡œì¨ `Dockerfile` ì„ ì‘ì„±í•©ë‹ˆë‹¤.
2. DB container ì™€ data generator container ë¥¼ í•¨ê»˜ ë„ìš°ê¸° ìœ„í•œ `docker-compose` íŒŒì¼ì„ ì‘ì„±í•©ë‹ˆë‹¤.
3. DB ì•ˆì— ë°ì´í„°ê°€ ê³„ì†í•´ì„œ ì‚½ì…ë˜ê³  ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

### ìŠ¤í™ ëª…ì„¸ì„œ

1. ì´ì „ ì¥ì—ì„œ ì‘ì„±í•œ script ë¥¼ build í•  ìˆ˜ ìˆëŠ” `Dockerfile` ì„ ì‘ì„±í•©ë‹ˆë‹¤.
    - Base imageëŠ” `amd64/python:3.9-slim` ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
    - Container ì—ì„œ psql ì„ ì´ìš©í•˜ì—¬ DBì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ `postgresql-client` ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
2. `docker-compose.yaml` íŒŒì¼ì„ ì‘ì„±í•©ë‹ˆë‹¤.
    - Postgres server service
        - Service name : `db`
        - Image : `postgres:14.0`
        - Container name : `postgres-server`
        - Environment
            - `POSTGRES_USER` : `myuser`
            - `POSTGRES_PASSWORD` : `mypassword`
            - `POSTGRES_DB` : `mydatabase`
            - `TZ` : `Asia/Seoul`
        - Port : `5432:5432`
    - Data generator serivce
        - Service name : `data-generator`
        - Image : `Dockerfile`
        - Container name : `data-generator-server`
        - Environment
            - TZ : `Asia/Seoul`
        - Command
            - `create_table.py` ì‹¤í–‰
            - `data_generator.py` ì‹¤í–‰

      :::info

      Postgres server ì™€ data generator serverë¥¼ ë„ìš¸ ë•Œ ì–´ë–¤ service ê°€ ë¨¼ì € ë„ì›Œì ¸ì•¼í•˜ëŠ”ì§€ ìƒê°í•´ë³´ê³ , ê·¸ ê¸°ëŠ¥ì„ yaml íŒŒì¼ì— ì¶”ê°€í•©ë‹ˆë‹¤.

      :::

3. `docker-compose.yaml` ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
4. `psql` ì„ ì´ìš©í•˜ì—¬ DBì— ë°ì´í„°ê°€ ê³„ì†í•´ì„œ ìŒ“ì´ê³  ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
    - Local ì—ì„œ í™•ì¸í•©ë‹ˆë‹¤.
    - Data generator server ì—ì„œ í™•ì¸í•©ë‹ˆë‹¤.

</CodeDescription>
</details>

---

<BrowserWindow url="https://github.com/mlops-for-mle/mlops-for-mle/tree/main/ch1">

í•´ë‹¹ ì±•í„°ì˜ ì „ì²´ ì½”ë“œëŠ” [mlops-for-mle/ch1/](https://github.com/mlops-for-mle/mlops-for-mle/tree/main/ch1) ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
ch1
// highlight-next-line
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ Makefile
â”œâ”€â”€ create_table.py
// highlight-next-line
â”œâ”€â”€ data_generator.py
// highlight-next-line
â”œâ”€â”€ docker-compose.yaml
â”œâ”€â”€ insert_data.py
â””â”€â”€ insert_data_loop.py
```

</BrowserWindow>

## 0. í™˜ê²½ ì„¤ì •

:::caution

ğŸ“Œ ì´ë²ˆ ì¥ì—ì„œëŠ” Docker Compose ë¥¼ ì´ìš©í•´ ì»¨í…Œì´ë„ˆë¥¼ ë„ìš°ëŠ” ë²•ì— ëŒ€í•´ì„œ ì‹¤ìŠµí•©ë‹ˆë‹¤.  
ğŸ“Œ ì´ë¥¼ ìœ„í•´ì„œ ì•ì„œ 1ì¥ê³¼ 5ì¥ì—ì„œ ì‹œì‘í•œ ì»¨í…Œì´ë„ˆë¥¼ ì¢…ë£Œí•´ì•¼ í•©ë‹ˆë‹¤. 
:::
 

ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì‹¤í–‰ì¤‘ì¸ postgres ì„œë²„ì™€ data generator ë¥¼ ì¢…ë£Œì‹œí‚µë‹ˆë‹¤.

```bash
# terminal-command
docker rm --force postgres-server data-generator
```

## 1. `Dockerfile`

ì•ì„  ì¥ì—ì„œ ì‘ì„±í•œ íŒŒì¼ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```docker  title="Dockerfile"
FROM amd64/python:3.9-slim

RUN apt-get update && apt-get install -y postgresql-client

WORKDIR /usr/app

RUN pip install -U pip &&\
    pip install scikit-learn pandas psycopg2-binary

COPY data_generator.py data_generator.py

ENTRYPOINT ["python", "data_generator.py", "--db-host"]
# Change CMD to solve host finding error
CMD ["localhost"]
```

## 2. `docker-compose.yaml`

ì´ì œ  `docker-compose.yaml` íŒŒì¼ì„ ì‘ì„±í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

`docker-compose.yaml` ì˜ ì•„í‚¤í…ì³ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

<CodeDescription>

```yaml  title="docker-compose.yaml"
version: "3"
services:
  
```

- `version` : `docker compose` ì˜ ë²„ì „ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ìµœì‹  ë²„ì „ì€ [ê³µì‹ í™ˆí˜ì´ì§€](https://docs.docker.com/compose/compose-file/compose-versioning/)ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `services` : `docker compose` ì— ë¬¶ì¼ ì„œë¹„ìŠ¤ë“¤ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

</CodeDescription>

ì´ì œ DB service ì™€ data generator service ë¥¼ ì‘ì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤.

### 2.1 DB service

ë¨¼ì €, DB service ë¥¼ ì•„ë˜ì™€ ê°™ì´ yaml í˜•íƒœë¡œ ì‘ì„±í•©ë‹ˆë‹¤.

<CodeDescription>

```yaml  title="docker-compose.yaml"
version: "3"

services:
  postgres-server:
    image: postgres:14.0
    container_name: postgres-server
    environment:
      POSTGRES_USER: myuser
      POSTGRES_PASSWORD: mypassword
      POSTGRES_DB: mydatabase
      TZ: Asia/Seoul
    ports:
      - 5432:5432
    restart: unless-stopped
```

- `db` : DB service ì˜ ì´ë¦„ì„ ì§€ì •í•©ë‹ˆë‹¤. ì§€ì •í•œ ì´ë¦„ì€ ë„ìš¸ container ì˜ host ì´ë¦„ì´ ë©ë‹ˆë‹¤.
- `version` : docker-compose íŒŒì¼ì— ëŒ€í•œ ë²„ì „ì„ ì§€ì •í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” `3` ìœ¼ë¡œ ì§€ì •í•˜ê² ìŠµë‹ˆë‹¤.
- `image` : container ì—ì„œ ì‚¬ìš©í•  image ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” `postgres:14.0` ì„ ì‚¬ìš©í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.
- `environment` : container ì—ì„œ ì‚¬ìš©í•  í™˜ê²½ ë³€ìˆ˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.  
  ì—¬ê¸°ì„œëŠ” `POSTGRES_USER` , `POSTGRES_PASSWORD` , `POSTGRES_DB` , `TZ` ì„ ê°ê° `myuser` , `mypassword` , `mydatabase` , `Asia/Seoul` ìœ¼ë¡œ ì§€ì •í•˜ê² ìŠµë‹ˆë‹¤.
    - ì—¬ê¸°ì„œ `TZ` ì€ Time Zone ì„ ëœ»í•©ë‹ˆë‹¤.
- `ports` : host ì™€ container ì˜ port ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. í˜•ì‹ì€  `host:container` ìœ¼ë¡œ ì‚¬ìš©ë˜ë©°, ì—¬ê¸°ì„œëŠ” `5432:5432` ë¡œ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤.
- `restart` : container ì˜ restart policy ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ì•„ë˜ì˜ ë§í¬ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”.  
    [Start containers automatically](https://docs.docker.com/config/containers/start-containers-automatically/)

</CodeDescription>

### 2.2 Data Denerator Service

ë‹¤ìŒìœ¼ë¡œ, data generator service ë¥¼ ì•„ë˜ì™€ ê°™ì´ yaml í˜•íƒœë¡œ ì‘ì„±í•©ë‹ˆë‹¤.

<CodeDescription>

```yaml  title="docker-compose.yaml"
  data-generator:
    build:
      context: .
      dockerfile: ./Dockerfile
    container_name: data-generator
    environment:
      TZ: Asia/Seoul
    command: ["postgres-server"]
    depends_on: 
      - postgres-server
```

- `build` : `Dockerfile` ì„ build í•˜ê¸° ìœ„í•´ `Dockerfile` ì´ ìˆëŠ” ê²½ë¡œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
    - `context` : `Dockerfile` ì´ ìˆëŠ” ì ˆëŒ€ê²½ë¡œ ë˜ëŠ” ìƒëŒ€ê²½ë¡œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
    - `dockerfile` : `context` ì—ì„œ ì„¤ì •í•œ ê²½ë¡œì— ìˆëŠ” `Dockerfile` ì˜ íŒŒì¼ëª…ì„ ì…ë ¥í•©ë‹ˆë‹¤.
- `command` : Dockerfileì— ì‘ì„±ë˜ì–´ ìˆëŠ” `CMD` ë¥¼ ë®ì–´ì”ë‹ˆë‹¤. ì•ì„  ì¥ì—ì„œ DB ì˜ host ëŠ” ì»¨í…Œì´ë„ˆì˜ ì´ë¦„ìœ¼ë¡œ ì£¼ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì„¤ëª…í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ì„œ ì—¬ê¸°ì„œëŠ” `["postgres-server"]` ë¡œ ë®ì–´ì”ë‹ˆë‹¤.
- `depends_on` : `docker compose` ë¡œ ë„ì›Œì§€ëŠ” service ê°„ì˜ ì¢…ì†ì„± ìˆœì„œëŒ€ë¡œ service ë¥¼ ì‹œì‘í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” postgres server ê°€ ë¨¼ì € ì‹¤í–‰ë˜ê³  ë‚œ ë’¤ì— data generator server ë¥¼ ì‹¤í–‰ í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— postgres server ì˜ service ì´ë¦„ì¸ `db` ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

</CodeDescription>

### 2.3 Docker Compose Healthcheck

ì•ì„œ ì‘ì„±í•œ `docker-compose.yaml` íŒŒì¼ì„ í•¨ê»˜ ë‚˜ì—´í•˜ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.


```yaml  title="docker-compose.yaml"
version: "3"

services:
  postgres-server:
    image: postgres:14.0
    container_name: postgres-server
    environment:
      POSTGRES_USER: myuser
      POSTGRES_PASSWORD: mypassword
      POSTGRES_DB: mydatabase
      TZ: Asia/Seoul
    ports:
      - 5432:5432
    restart: unless-stopped

  data-generator:
    build:
      context: .
      dockerfile: ./Dockerfile
    container_name: data-generator
    environment:
      TZ: Asia/Seoul
    command: ["postgres-server"]
    depends_on: 
      - postgres-server
```

ì´ì œ ì‘ì„±í•œ `docker-compose.yaml` íŒŒì¼ì„ ì‹¤í–‰í•´ ë³´ê² ìŠµë‹ˆë‹¤.  
docker compose ëŠ” `up` ëª…ë ¹ì–´ì™€ `down` ëª…ë ¹ì–´ë¥¼ í†µí•´ ì‹¤í–‰ê³¼ ì¢…ë£Œë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ì œ `docker-compose.yaml` íŒŒì¼ì— ì •ì˜ë˜ì–´ ìˆëŠ” service ë“¤ì˜ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰ì‹œê² ìŠµë‹ˆë‹¤.

<CodeDescription>

```bash
# terminal-command
docker compose up -d
```
- `-d` : detach ëª¨ë“œë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤. detach ëª¨ë“œë€ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰ í›„ ìœ ì§€ì‹œí‚¤ëŠ” ëª¨ë“œë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.

</CodeDescription>

í•˜ì§€ë§Œ `docker ps` ë¥¼ ì…ë ¥í•´ë³´ë©´ postgres server ë§Œ ë„ì›Œì ¸ìˆìŠµë‹ˆë‹¤.

:::info

í•˜ë“œì›¨ì–´ ìŠ¤í™ì— ë”°ë¼ ë”°ë¼ í•´ë‹¹ ë‚´ìš©ì´ ì¬í˜„ì´ ì•ˆ ë˜ëŠ” ê²½ìš°ë„ ìˆìŠµë‹ˆë‹¤.  
ì¬í˜„ì´ ì•ˆë˜ëŠ” ê²½ìš°, ì „ì²´ íë¦„ì— ì´ˆì ì„ ë§ì¶°ì„œ ë´ì£¼ì‹œë©´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.

:::

```bash
# terminal-command
docker ps
CONTAINER ID   IMAGE           COMMAND                  CREATED              STATUS              PORTS                    NAMES
8a4a16837f28   postgres:14.0   "docker-entrypoint.sâ€¦"   About a minute ago   Up About a minute   0.0.0.0:5432->5432/tcp   postgres-server
```

Docker desktop ìœ¼ë¡œ ë´ë„ ë™ì¼í•œ í˜„ìƒì…ë‹ˆë‹¤.

<div style={{textAlign: 'center'}}>

![Container Networking Connetected](./img/db-5.png)  
[ê·¸ë¦¼ 1-5] Docker Desktop
</div>

ì™œ ì´ëŸ´ê¹Œìš”?

ì´ìœ ëŠ” ì•ì„œ `depends_on` ìœ¼ë¡œ service ê°„ì˜ ì¢…ì†ì„±ì€ ì •í–ˆì§€ë§Œ, ì‹¤ì œë¡œ postgres server ê°€ ë„ì›Œì§„ ë’¤ì— ê³§ë°”ë¡œ data generator server ê°€ ë„ì›Œì§‘ë‹ˆë‹¤. **postgres server ëŠ” ì•„ì§ ì¤€ë¹„ê°€ ë˜ì–´ìˆì§€ ì•Šì€ë° data generator server ê°€ ë„ì›Œì ¸ì„œ DB connection ì„ í•˜ë ¤ë‹¤ë³´ë‹ˆ data generator server ê°€ Exited ë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•œ ê²ƒì…ë‹ˆë‹¤.**

ê·¸ë ‡ê¸° ë•Œë¬¸ì— postgres server ê°€ ì‚¬ìš© ê°€ëŠ¥í•œ ìƒíƒœê°€ ë˜ì–´ìˆëŠ”ì§€ ì²´í¬ë¥¼ í•œ ë’¤ì— data generator server ë¥¼ ë„ì›Œì•¼ í•©ë‹ˆë‹¤.  
ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ë°©ë²•ìœ¼ë¡œ [docker compose healthcheck](https://github.com/peter-evans/docker-compose-healthcheck) ê°€ ìˆìŠµë‹ˆë‹¤.

ê°„ë‹¨í•˜ê²Œ ì•„ë˜ì™€ ê°™ì´ yaml íŒŒì¼ì— `healthcheck` ë¶€ë¶„ê³¼ `condition` ì„ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.

<CodeDescription>

```yaml  title="docker-compose.yaml"
version: "3"

services:
  postgres-server:
    image: postgres:14.0
    container_name: postgres-server
    environment:
      POSTGRES_USER: myuser
      POSTGRES_PASSWORD: mypassword
      POSTGRES_DB: mydatabase
      TZ: Asia/Seoul
    ports:
      - 5432:5432
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "pg_isready", "-q", "-U", "myuser", "-d", "mydatabase"]
      interval: 10s
      timeout: 5s
      retries: 5

  data-generator:
    build:
      context: .
      dockerfile: ./Dockerfile
    container_name: data-generator
    environment:
      TZ: Asia/Seoul
    command: ["postgres-server"]
    depends_on:
      postgres-server:
        condition: service_healthy
```

- `test` : test í•  command ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” `pg_isready` ë¥¼ ì´ìš©í•˜ì—¬ `["CMD", "pg_isready", "-q", "-U", "myuser", "-d", "mydatabase"]` ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.
- `interval` : health check ê°„ê²©ì„ ì„¤ì •í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” 10ì´ˆë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
- `timeout` : health check ì˜ timeout ì„ ì„¤ì •í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” 5ì´ˆë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
- `retries` : timeout ì˜ íšŸìˆ˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” 5ë²ˆìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
- `condition` : healthcheck ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ `depends_on` ì˜ parameter ë¡œ `condition: service_healthy` ë¥¼ ë„£ì–´ì¤ë‹ˆë‹¤. postgres server ì˜ healthcheck ë¥¼ data generator server ì—ì„œ ì ìš©ì‹œí‚¤ê¸° ìœ„í•´ `db` ë°‘ì— condition ì„ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.

</CodeDescription>

ì´ë ‡ê²Œ ì„¤ì •ëœ ê²ƒì„ ì •ë¦¬í•´ë³´ë©´, 10ì´ˆë§ˆë‹¤ test ë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ 5ì´ˆ ì´ë‚´ì— DB ê°€ ready ìƒíƒœê°€ ë˜ì—ˆëŠ”ì§€ë¥¼ ì²´í¬í•  ê²ƒì´ë©°, ì‹¤íŒ¨ ì‹œ 5ë²ˆ ì¬ì‹œë„í•œë‹¤ëŠ” ëœ»ì´ ë©ë‹ˆë‹¤.
ì´ì™¸ì— ë” ìì„¸í•œ ë‚´ìš©ì€ [Dockerfile reference](https://docs.docker.com/engine/reference/builder/#healthcheck) ì„ ì°¸ê³ í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

ì´ì œ ë‹¤ì‹œ service ë“¤ì„ ì‹¤í–‰í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```bash
# terminal-command
docker compose up -d
```

## 3. ë°ì´í„° í™•ì¸

### 3.1 Local ì—ì„œ í™•ì¸

`psql` ì„ ì´ìš©í•˜ì—¬ DB ì— ì ‘ê·¼í•˜ê³ , ê³„ì†í•´ì„œ data ê°€ ì‚½ì…ë˜ê³  ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

```bash
# terminal-command
psql -h localhost -p 5432 -U myuser -d mydatabase
Password for user myuser: 
psql (14.3, server 14.0 (Debian 14.0-1.pgdg110+1))
Type "help" for help.

mydatabase=# select * from iris_data;
 id | sepal_length | sepal_width | petal_length | petal_width | target 
----+--------------+-------------+--------------+-------------+--------
  1 |            6 |         2.9 |          4.5 |         1.5 |      1
  2 |          6.9 |         3.1 |          5.4 |         2.1 |      2
  3 |          5.1 |         3.7 |          1.5 |         0.4 |      0
  4 |          6.3 |         2.7 |          4.9 |         1.8 |      2
  5 |          4.4 |         2.9 |          1.4 |         0.2 |      0
  6 |          4.7 |         3.2 |          1.3 |         0.2 |      0
```

### 3.2 Data generator container ì—ì„œ í™•ì¸

`docker exec` ë¥¼ ì´ìš©í•˜ì—¬ data generator container ì•ˆìœ¼ë¡œ ì ‘ì†í•©ë‹ˆë‹¤.

```bash
# terminal-command
docker exec -it data-generator /bin/bash
```

ê·¸ë¦¬ê³  `psql` ì„ ì´ìš©í•˜ì—¬ DB ë¡œ ì ‘ì†í•©ë‹ˆë‹¤.
ì´ ë•Œ local ì´ ì•„ë‹Œ data generator container ì—ì„œ ì ‘ì†í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— host ë¥¼ `localhost` ì—ì„œ `postgres-server` ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.

```bash
# terminal-command
psql -h postgres-server -p 5432 -U myuser -d mydatabase
Password for user myuser: 
psql (13.8 (Debian 13.8-0+deb11u1), server 14.0 (Debian 14.0-1.pgdg110+1))
WARNING: psql major version 13, server major version 14.
         Some psql features might not work.
Type "help" for help.

mydatabase=# select * from iris_data;
 id | sepal_length | sepal_width | petal_length | petal_width | target 
----+--------------+-------------+--------------+-------------+--------
  1 |            6 |         2.9 |          4.5 |         1.5 |      1
  2 |          6.9 |         3.1 |          5.4 |         2.1 |      2
  3 |          5.1 |         3.7 |          1.5 |         0.4 |      0
  4 |          6.3 |         2.7 |          4.9 |         1.8 |      2
  5 |          4.4 |         2.9 |          1.4 |         0.2 |      0
  6 |          4.7 |         3.2 |          1.3 |         0.2 |      0
```

### 3.3 docker-compose ì¢…ë£Œ

Docker compose ë¥¼ ì¢…ë£Œì‹œí‚¤ê¸° ìœ„í•´ì„œëŠ” `docker-compose.yaml` ì´ ìˆëŠ” í´ë”ì—ì„œ `docker compose down` ë¥¼ í†µí•´ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
ë‹¤ë§Œ ë‹¤ìŒ ì±•í„°ë“¤ì˜ ì›í• í•œ ì§„í–‰ì„ ìœ„í•´ì„œ ì¢…ë£Œ í›„ ë‹¤ì‹œ ì‹¤í–‰ì‹œì¼œë†”ì•¼ í•©ë‹ˆë‹¤.
