---
sidebar_position: 5
description: ğŸ“Œ DConnect ì— source connector ë¥¼ ë„ì›Œë´…ë‹ˆë‹¤.
---

# 5) Source Connector
import CodeDescription from '@site/src/components/CodeDescription';
import BrowserWindow from '@site/src/components/BrowserWindow';
import { Chapter, Part } from '@site/src/components/Highlight';
import ArchitectureImage from './img/kafka-14.png';

## ëª©í‘œ

1. Connect ì— source connector ë¥¼ ë„ì›Œë´…ë‹ˆë‹¤.
2. Topic ì— ìŒ“ì¸ ë°ì´í„°ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

<details>
<summary>ìŠ¤í™ ëª…ì„¸ì„œ</summary>
<CodeDescription>

### ìŠ¤í™ ëª…ì„¸ì„œ

1. ì•„ë˜ì˜ ì„¤ì •ë“¤ì„ json íŒŒì¼ë¡œ ë§Œë“­ë‹ˆë‹¤.
    - `"name"` : `"postgres-source-connector"`
    - `"config"`
        - `"connector.class"` : `"io.confluent.connect.jdbc.JdbcSourceConnector"` ,
        - `"connection.url"` : `"jdbc:postgresql://postgres-server:5432/mydatabase"` ,
        - `"connection.user"` : `"myuser"` ,
        - `"connection.password"` : `"mypassword"` ,
        - `"table.whitelist"` : `"iris_data"` ,
        - `"topic.prefix"` : `"postgres-source-"` ,
        - `"topic.creation.default.partitions"` : 1,
        - `"topic.creation.default.replication.factor"` : 1,
        - `"mode"` : `"incrementing"` ,
        - `"incrementing.column.name"` : `"id"` ,
        - `"tasks.max"` : 2
2. curl ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ì—¬ POST method ë¡œ source connector ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
    - URL : `http://localhost:8083/connectors`
    - Header : `"Content-Type: application/json"`
3. kafkacat ì„ ì´ìš©í•˜ì—¬ topic ì— ìŒ“ì¸ ë°ì´í„°ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

</CodeDescription>
</details>

---

<BrowserWindow url="https://github.com/mlops-for-mle/mlops-for-mle/tree/main/ch7">

í•´ë‹¹ íŒŒíŠ¸ì˜ ì „ì²´ ì½”ë“œëŠ” [mlops-for-mle/ch7/](https://github.com/mlops-for-mle/mlops-for-mle/tree/main/ch7) ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
ch7
â”œâ”€â”€ Makefile
â”œâ”€â”€ README.md
â”œâ”€â”€ connect.Dockerfile
â”œâ”€â”€ create_table.py
â”œâ”€â”€ kafka-docker-compose.yaml
â”œâ”€â”€ naive-docker-compose.yaml
â”œâ”€â”€ sink_connector.json
// highlight-next-line
â”œâ”€â”€ source_connector.json
â”œâ”€â”€ target-docker-compose.yaml
â””â”€â”€ target.Dockerfile
```

</BrowserWindow>

## 1. Architecture
[ê·¸ë¦¼ 7-14]ì€ ì´ë²ˆ ì‹¤ìŠµì—ì„œ ë‹¤ë£° ì„œë¹„ìŠ¤ë“¤ì˜ ë‹¤ì´ì–´ê·¸ë¨ì…ë‹ˆë‹¤.

<div style={{textAlign: 'center'}}>

<img src={ArchitectureImage} style={{scale: '80%'}}/>
[ê·¸ë¦¼7-14] Kafka System

</div>

- **Data Generator Server** : ì±•í„° 1ì—ì„œ ë„ì› ë˜ data generator server ì…ë‹ˆë‹¤. ë°ì´í„°ë¥¼ ê³„ì†í•´ì„œ ìƒì„±í•˜ê³  postgres server ì— ìƒì„±ëœ ë°ì´í„°ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
- **Postgres Server** : ì±•í„° 1ì—ì„œ ë„ì› ë˜ postgres server ì™€ ë™ì¼í•©ë‹ˆë‹¤. ìƒì„±ëœ ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
- **Source Connector** : ë°ì´í„°ë¥¼ source DB server ì—ì„œ ê°€ì ¸ì™€ì„œ broker ì˜ topic ì—ê²Œ ì „ë‹¬í•  connector ì…ë‹ˆë‹¤.

## 2. Source Connector

### 2.1 ìƒì„±

Source connector ëŠ” connect ì˜ REST API ë¥¼ ì´ìš©í•˜ì—¬ ìƒì„±í•©ë‹ˆë‹¤.  
ìš°ì„  ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ Source connector ë¥¼ ë„ìš¸ ìˆ˜ ìˆëŠ” `source_connector.json` ì„ ìƒì„±í•©ë‹ˆë‹¤.

```bash
# terminal-command
cat <<EOF > source_connector.json
{
    "name": "postgres-source-connector",
    "config": {
        "connector.class": "io.confluent.connect.jdbc.JdbcSourceConnector",
        "connection.url": "jdbc:postgresql://source-postgres-server:5432/sourcedatabase",
        "connection.user": "sourceuser",
        "connection.password": "sourcepassword",
        "table.whitelist": "iris_data",
        "topic.prefix": "postgres-source-",
        "topic.creation.default.partitions": 1,
        "topic.creation.default.replication.factor": 1,
        "mode": "incrementing",
        "incrementing.column.name": "id",
        "tasks.max": 2
    }
}
EOF
```

ìƒì„±í•˜ëŠ” json ì— ëŒ€í•œ ì„¤ëª…ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

<CodeDescription>

```json  title="source_connector.json"
{
    "name": "postgres-source-connector",
    "config": {
        "connector.class": "io.confluent.connect.jdbc.JdbcSourceConnector",
        "connection.url": "jdbc:postgresql://postgres-server:5432/mydatabase",
        "connection.user": "myuser",
        "connection.password": "mypassword",
        "table.whitelist": "iris_data",
        "topic.prefix": "postgres-source-",
        "topic.creation.default.partitions": 1,
        "topic.creation.default.replication.factor": 1,
        "mode": "incrementing",
        "incrementing.column.name": "id",
        "tasks.max": 2
    }
}
```

- `name` : 
  - connector ì˜ ì´ë¦„ì„ ì •í•©ë‹ˆë‹¤.  
  - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” `postgres-source-connector` ë¥¼ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.
- config
  - `connector.class` : 
    - connector ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ class ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.  
    - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” JDBC source connector ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— `io.confluent.connect.jdbc.JdbcSourceConnector` ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.
  - `connection.url` : 
    - DB ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ì£¼ì†Œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.  
    - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” <Part>01. Database</Part> íŒŒíŠ¸ì—ì„œ ë„ì›Œë‘ì—ˆë˜ postgres-server ì˜ URL ì¸ `jdbc:postgresql://postgres-server:5432/mydatabase` ì„ ì…ë ¥í•©ë‹ˆë‹¤.
  - `connection.user` : 
    - DB ì— ì ‘ì†í•˜ê¸° ìœ„í•œ user name ì„ ì„¤ì •í•©ë‹ˆë‹¤.  
    - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” `myuser` ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.
  - `connection.password` : 
    - DB ì— ì ‘ì†í•˜ê¸° ìœ„í•œ password ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.  
    - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” `mypassword` ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.
  - `table.whitelist` : 
    - ë°ì´í„°ë¥¼ poll í•  í…Œì´ë¸”ì˜ ëª©ë¡ì„ ì„¤ì •í•©ë‹ˆë‹¤. ë³µìˆ˜ ê°œì˜ í…Œì´ë¸”ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²½ìš° ì½¤ë§ˆ(,)ë¥¼ í†µí•´ì„œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
    - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” í•œ ê°œì˜ í…Œì´ë¸”ë§Œ ê°€ì ¸ì˜¬ ê²ƒì´ê¸° ë•Œë¬¸ì— í˜„ì¬ postgres-server ì— ìˆëŠ” `iris_data` í…Œì´ë¸”ë§Œ ì ì–´ì¤ë‹ˆë‹¤.
  - `topic.prefix` : 
    -  topic ìƒì„± ì‹œ ì´ë¦„ ì•ì— ë¶™ì¼ prefix ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì‘ì„±í•œ prefix ì™€ í…Œì´ë¸”ëª…ì´ ìµœì¢… topicì˜ ì´ë¦„ì´ ë©ë‹ˆë‹¤.  
    - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” `postgres-source-` ë¼ëŠ” prefix ë¥¼ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.
  - `topic.creation.default.partitions` : 
    - topic ìë™ ìƒì„±ì„ ìœ„í•´ ë°˜ë“œì‹œ ì„¤ì •ë˜ì–´ì•¼ í•˜ëŠ” ê°’ì…ë‹ˆë‹¤.
    source connectorë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ topicì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ìë™ìœ¼ë¡œ topicì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    ì´ë•Œ í•œ ê°€ì§€ ì¡°ê±´ì´ ì¡´ì¬í•˜ëŠ”ë° ë¨¼ì € ì„¤ì •íŒŒì¼ì—ì„œ `topic.creation.enable=true` ë¡œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. (ì´ ê°’ì˜ default ê°’ì€ true ì´ë¯€ë¡œ ë”°ë¡œ ì„¤ì •í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.)
    ì´ë ‡ê²Œ í•˜ë©´ ìë™ìœ¼ë¡œ default ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ topic create group ì´ ìƒì„±ë˜ëŠ”ë°, ì´ ê·¸ë£¹ì´ topic ìƒì„±ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.
    ì´ config ëŠ” default ê·¸ë£¹ì—ì„œ topic ì„ ìë™ ìƒì„±í•  ë•Œ partition ì„ ëª‡ ê°œë¡œ ì„¤ì •í•  ì§€ë¥¼ ì •í•©ë‹ˆë‹¤.  
    - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” 1ë¡œ ì„¤ì •í•´ì¤ë‹ˆë‹¤.
  - `topic.creation.default.replication.factor` : 
    - ìœ„ì™€ ë§ˆì°¬ê°€ì§€ë¡œ topic ìë™ ìƒì„±ì„ ìœ„í•´ ë°˜ë“œì‹œ ì„¤ì •ë˜ì–´ì•¼ í•˜ëŠ” ê°’ì…ë‹ˆë‹¤.
    ì´ config ëŠ” default ê·¸ë£¹ìœ¼ë¡œ topic ì„ ìë™ ìƒì„±í•  ë•Œ replication factor ë¥¼ ëª‡ ê°œë¡œ ì„¤ì •í•  ì§€ë¥¼ ì •í•©ë‹ˆë‹¤.  
    - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” 1ë¡œ ì„¤ì •í•´ì¤ë‹ˆë‹¤. 
      - ì¶”ê°€ì ìœ¼ë¡œ ì‚¬ìš©ìê°€ default ê·¸ë£¹ ì´ì™¸ì˜ ê·¸ë£¹ì„ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë©°, ê·¸ë£¹ë§ˆë‹¤ partition ê³¼ replication factor ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      ê·¸ë¦¬ê³  include, exclude ì˜µì…˜ì„ í†µí•´ì„œ ì‚¬ìš©ìê°€ ìƒì„±í•œ ê·¸ë£¹ìœ¼ë¡œ topicì„ ìƒì„±í•  ì§€, ì œì™¸í•  ì§€ë¥¼ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      í˜„ì¬ëŠ” í•„ìš”ì—†ëŠ” ì„¤ì •ì´ë¯€ë¡œ ë”°ë¡œ ê·¸ë£¹ì„ ë§Œë“¤ì§€ëŠ” ì•Šì•˜ìŠµë‹ˆë‹¤.
  - `mode` : 
    - í…Œì´ë¸”ì— ë³€ê²½ì´ ë°œìƒí–ˆì„ ë•Œ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ poll í• ì§€ ì„¤ì •í•©ë‹ˆë‹¤.
      - mode ëŠ” ì´ 4ê°œë¡œ **bulk, timestamp, incrementing, timestamp+incrementing** ê°€ ìˆìŠµë‹ˆë‹¤.
        1. `bulk` ë¥¼ ì‚¬ìš©í•˜ë©´ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ í…Œì´ë¸”ì˜ ë‚´ìš©ì„ ëª¨ë‘ poll í•©ë‹ˆë‹¤.
        2. `timestamp` ëŠ” timestamp column ì„ í†µí•´ì„œ ë“¤ì–´ì˜¨ row ë¥¼ ì‹ ê·œë¡œ íŒë‹¨í•˜ê³ , í•´ë‹¹ ë°ì´í„°ë§Œ poll í•©ë‹ˆë‹¤.
        3. `incrementing`ì€Â incrementing columnì„ í†µí•´ì„œ ë“¤ì–´ì˜¨ row ë¥¼ ì‹ ê·œë¡œ íŒë‹¨í•˜ê³ , í•´ë‹¹ ë°ì´í„°ë§Œ poll í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì£¼ì˜í•´ì•¼í•  ì ì€ incrementing ëª¨ë“œì˜ ê²½ìš°ì— "ì‚­ì œ(delete)" ì™€ "ìˆ˜ì •(update)" ì— ëŒ€í•´ì„  ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ìˆ˜ì •ê³¼ ì‚­ì œ ì •ë³´ë„ poll í•˜ê³  ì‹¶ë‹¤ë©´ shadow í…Œì´ë¸”ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.
        4. `timestamp+incrementing` ì€ timestamp column ê³¼ incrementing column 2ê°œì˜ column ì„ ì‚¬ìš©í•˜ì—¬ ë“¤ì–´ì˜¨ row ë¥¼ ì‹ ê·œë¡œ íŒë‹¨í•˜ê³ , í•´ë‹¹ ë°ì´í„°ë§Œ poll í•©ë‹ˆë‹¤.  
    - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” `incrementing` ì„ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.
  - `incrementing.column.name` : 
    - incrementing column ì˜ ì´ë¦„ì„ ì„¤ì •í•©ë‹ˆë‹¤.
    - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” `id` ë¡œ ì„¤ì •í•´ì¤ë‹ˆë‹¤. ì´ë ‡ê²Œ ë˜ë©´ id ë¼ëŠ” column ì„ ë³´ê³  ì–´ë–¤ row ë¶€í„° poll í•  ì§€ íŒë‹¨í•©ë‹ˆë‹¤. ì°¸ê³ ë¡œ ì„¤ì •í•œ column ì˜ ìœ í˜•ì´ varchar ì¸ ê²½ìš° ì—ëŸ¬ê°€ ë‚©ë‹ˆë‹¤.
  - `tasks.max` : 
    - connector ì—ì„œ task ì˜ ìˆ˜ë¥¼ ì–¼ë§ˆë‚˜ ê°€ì ¸ê°ˆ ì§€ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
    - ì´ë²ˆ ì±•í„°ì—ì„œëŠ” 2ë¡œ ì„¤ì •í•´ì£¼ê² ìŠµë‹ˆë‹¤.
- <Chapter>2) Producer & Consumer</Chapter> ì±•í„°ì™€ëŠ” ë‹¤ë¥´ê²Œ source connector ìƒì„± ì‹œ ìë™ìœ¼ë¡œ topic ì„ ë„ì›Œì£¼ê¸°ì— ì¶”ê°€ì ìœ¼ë¡œ topic ì„ ìƒì„±í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

</CodeDescription>

ì´ì œ ì‘ì„±ëœ json íŒŒì¼ì„ curl ì„ ì´ìš©í•˜ì—¬ connect ì˜ REST API ì— POST method ë¡œ ë³´ëƒ…ë‹ˆë‹¤.

```bash
# terminal-command
curl -X POST http://localhost:8083/connectors -H "Content-Type: application/json" -d @source_connector.json
```

ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ì¶œë ¥ë©ë‹ˆë‹¤.

```bash
{"name":"postgres-source-connector","config":{"connector.class":"io.confluent.connect.jdbc.JdbcSourceConnector","connection.url":"jdbc:postgresql://postgres-server:5432/mydatabase","connection.user":"myuser","connection.password":"mypassword","table.whitelist":"iris_data","topic.prefix":"postgres-source-","topic.creation.default.partitions":"1","topic.creation.default.replication.factor":"1","mode":"incrementing","incrementing.column.name":"id","tasks.max":"2","name":"postgres-source-connector"},"tasks":[],"type":"source"}%
```

### 2.2 ìƒì„± í™•ì¸

ì•„ë˜ì˜ GET method ë¡œ í˜„ì¬ connector ëª©ë¡ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•ì„œ ìƒì„±í•œ connector ê°€ ì˜ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

```bash
# terminal-command
curl -X GET http://localhost:8083/connectors
```

ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ì¶œë ¥ë©ë‹ˆë‹¤.

```bash
["postgres-source-connector"]%
```

ì´ì–´ì„œ `postgres-source-connector` ì˜ ì¶”ê°€ ì •ë³´ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

```bash
# terminal-command
curl -X GET http://localhost:8083/connectors/postgres-source-connector
```

ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ì¶œë ¥ë©ë‹ˆë‹¤.

```bash
{"name":"postgres-source-connector","config":{"connector.class":"io.confluent.connect.jdbc.JdbcSourceConnector","mode":"incrementing","incrementing.column.name":"id","topic.prefix":"postgres-source-","topic.creation.default.partitions":"1","connection.password":"mypassword","connection.user":"myuser","tasks.max":"2","topic.creation.default.replication.factor":"1","name":"postgres-source-connector","connection.url":"jdbc:postgresql://postgres-server:5432/mydatabase","table.whitelist":"iris_data"},"tasks":[],"type":"source"}%
```

### 2.3 Topic ì— ìŒ“ì¸ ë°ì´í„° í™•ì¸

ì´ì œ topic ì— ë°ì´í„° ì˜ ìŒ“ì´ê³  ìˆëŠ”ì§€ë¥¼ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” `kafkacat` ì„ ì´ìš©í•˜ì—¬ í™•ì¸í•©ë‹ˆë‹¤.

ì„¤ì¹˜ëŠ” [ê³µì‹ í™ˆí˜ì´ì§€](https://github.com/edenhill/kcat)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.
- Linux
  ```bash
  # terminal-command
  apt-get install kafkacat
  ```
- MacOS
  ```bash
  # terminal-command
  brew install kcat
  ```

`kcat` ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ì—¬ ëª¨ë“  topic ë¦¬ìŠ¤íŠ¸ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

```bash
# terminal-command
kcat -L -b localhost:9092
```

ì¤‘ê°„ì— `postgres-source-iris_data` topic ì´ ìƒì„±ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
.
.
.
topic "postgres-source-iris_data" with 1 partitions:
    partition 0, leader 1, replicas: 1, isrs: 1
.
.
.
```

`kcat` ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ì—¬ `postgres-source-iris_data` topic ì— ìŒ“ì¸ ë°ì´í„°ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

```bash
# terminal-command
kcat -b localhost:9092 -t postgres-source-iris_data
```

ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ë°ì´í„°ê°€ ìŒ“ì´ê³  ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
{"schema":{"type":"struct","fields":[{"type":"int32","optional":false,"field":"id"},{"type":"double","optional":true,"field":"sepal_length"},{"type":"double","optional":true,"field":"sepal_width"},{"type":"double","optional":true,"field":"petal_length"},{"type":"double","optional":true,"field":"petal_width"},{"type":"int32","optional":true,"field":"target"}],"optional":false,"name":"iris_data"},"payload":{"id":187,"sepal_length":6.5,"sepal_width":3.0,"petal_length":5.8,"petal_width":2.2,"target":2}}
{"schema":{"type":"struct","fields":[{"type":"int32","optional":false,"field":"id"},{"type":"double","optional":true,"field":"sepal_length"},{"type":"double","optional":true,"field":"sepal_width"},{"type":"double","optional":true,"field":"petal_length"},{"type":"double","optional":true,"field":"petal_width"},{"type":"int32","optional":true,"field":"target"}],"optional":false,"name":"iris_data"},"payload":{"id":188,"sepal_length":6.0,"sepal_width":2.2,"petal_length":5.0,"petal_width":1.5,"target":2}}
{"schema":{"type":"struct","fields":[{"type":"int32","optional":false,"field":"id"},{"type":"double","optional":true,"field":"sepal_length"},{"type":"double","optional":true,"field":"sepal_width"},{"type":"double","optional":true,"field":"petal_length"},{"type":"double","optional":true,"field":"petal_width"},{"type":"int32","optional":true,"field":"target"}],"optional":false,"name":"iris_data"},"payload":{"id":189,"sepal_length":7.0,"sepal_width":3.2,"petal_length":4.7,"petal_width":1.4,"target":1}}
{"schema":{"type":"struct","fields":[{"type":"int32","optional":false,"field":"id"},{"type":"double","optional":true,"field":"sepal_length"},{"type":"double","optional":true,"field":"sepal_width"},{"type":"double","optional":true,"field":"petal_length"},{"type":"double","optional":true,"field":"petal_width"},{"type":"int32","optional":true,"field":"target"}],"optional":false,"name":"iris_data"},"payload":{"id":190,"sepal_length":6.9,"sepal_width":3.2,"petal_length":5.7,"petal_width":2.3,"target":2}}
{"schema":{"type":"struct","fields":[{"type":"int32","optional":false,"field":"id"},{"type":"double","optional":true,"field":"sepal_length"},{"type":"double","optional":true,"field":"sepal_width"},{"type":"double","optional":true,"field":"petal_length"},{"type":"double","optional":true,"field":"petal_width"},{"type":"int32","optional":true,"field":"target"}],"optional":false,"name":"iris_data"},"payload":{"id":191,"sepal_length":5.6,"sepal_width":2.7,"petal_length":4.2,"petal_width":1.3,"target":1}}
% Reached end of topic postgres-source-iris_data [0] at offset 191
```
